// @flekschas/utils v0.29.0 Copyright 2021 Fritz Lekschas
/**
 * Clone an event by invoking the source event's constructor and passing in
 *   the source event.
 *
 * @param {object} event - Source event to be cloned.
 * @return {object} Cloned event
 */
const cloneEvent = (event) => {
  const newEvent = new event.constructor(event.type, event);
  newEvent.sourceUid = event.sourceUid;
  newEvent.forwarded = event.forwarded;

  return newEvent;
};

/**
 * Forward an event by cloning and dispatching it.
 * @param {object} event - Event to be forwarded.
 * @param {object} target - Target HTML element for the event.
 */
const forwardEvent = (event, target) => {
  target.dispatchEvent(cloneEvent(event));
};

export { cloneEvent, forwardEvent };
